<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet"></link><script src="http://code.jquery.com/jquery-1.9.1.min.js"></script><script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script><link href="/js/styles.css" rel="stylesheet"></link><script type="text/javascript">var dox = {rootPath: "/js",platforms: ["js"]};</script><script type="text/javascript" src="/js/nav.js"></script><script type="text/javascript" src="/js/index.js"></script><link rel="icon" href="/js/favicon.ico" type="image/x-icon"></link><title>Tilesheet</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Search" autocomplete="off"></input></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="js"><a href="#">js</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><h1><code><span class="directive">class </span><span class="type">openfl.display.Tilesheet</span></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div><table class="related-types toggle" style="margin-top:16px;"><tbody><tr><td colspan="2"><strong>Sub classes</strong></td></tr><tr><td width="12" style="vertical-align:top;"><a href="#" onclick="toggleInherited(this)"><img style="padding-top:4px;" src="/js/triangle-closed.png"></img></a></td><td class="toggle-hide"><a href="/js/flixel/system/layer/TileSheetExt.html">TileSheetExt</a></td><td class="toggle-show"><table class="table table-condensed"><tbody><tr><td width="200"><a href="/js/flixel/system/layer/TileSheetExt.html">TileSheetExt</a></td><td><p></p></td></tr></tbody></table></td></tr></tbody></table></div><div class="doc"><p>In order to optimize for faster performance than individual 
<em> drawing calls, the Tilesheet provides an alternative API with
</em> several constraints to play nicely with hardware rendering.
<em> 
</em> First, every Tilesheet can only use one BitmapData as a texture.
<em> This restriction provides the opportunity to copy only one texture
</em> to the GPU memory before rendering.
<em> 
</em> Second, the Tilesheet uses pre-defined geometry. You may make as 
<em> many calls as you want to "addTileRect" to add tile geometry. You
</em> can reference this geometry later when you perform batch rendering,
<em> using a zero-based ID for the tile.
</em> 
<em> When you are ready, the "drawTiles" method accepts a draw list with
</em> the ID of the tile, as well as additional values needed, depending
<em> on whether you are only rendering with the tile position, or if 
</em> you have enabled flags for TILE<em>SCALE, TILE</em>ROTATION, TILE<em>RGB,
* TILE</em>ALPHA or TILE<em>TRANS</em>2x2.
<em> 
</em> @example
<em> 
</em> var bitmapData = Assets.getBitmapData("image.png");
<em> var tilesheet = new Tilesheet(bitmapData);
</em> 
<em> var tile = tilesheet.addTileRect(new Rectangle(0, 0, 100, 100));
</em> tilesheet.drawTiles(this, [ tile, 100, 100 ]);</p></div><h2>Class Fields</h2><div class="platform platform-js"><a name="TILE_ALPHA"></a><h3><code><span class="keyword">static</span> <span class="keyword">var</span> <a href="#TILE_ALPHA"><span class="identifier">TILE_ALPHA</span></a>:<a class="type" href="/js/Int.html">Int</a></code></h3><div class="doc"><p></p></div></div><div class="platform platform-js"><a name="TILE_BLEND_ADD"></a><h3><code><span class="keyword">static</span> <span class="keyword">var</span> <a href="#TILE_BLEND_ADD"><span class="identifier">TILE_BLEND_ADD</span></a>:<a class="type" href="/js/Int.html">Int</a></code></h3><div class="doc"><p></p></div></div><div class="platform platform-js"><a name="TILE_BLEND_NORMAL"></a><h3><code><span class="keyword">static</span> <span class="keyword">var</span> <a href="#TILE_BLEND_NORMAL"><span class="identifier">TILE_BLEND_NORMAL</span></a>:<a class="type" href="/js/Int.html">Int</a></code></h3><div class="doc"><p></p></div></div><div class="platform platform-js"><a name="TILE_RGB"></a><h3><code><span class="keyword">static</span> <span class="keyword">var</span> <a href="#TILE_RGB"><span class="identifier">TILE_RGB</span></a>:<a class="type" href="/js/Int.html">Int</a></code></h3><div class="doc"><p></p></div></div><div class="platform platform-js"><a name="TILE_ROTATION"></a><h3><code><span class="keyword">static</span> <span class="keyword">var</span> <a href="#TILE_ROTATION"><span class="identifier">TILE_ROTATION</span></a>:<a class="type" href="/js/Int.html">Int</a></code></h3><div class="doc"><p></p></div></div><div class="platform platform-js"><a name="TILE_SCALE"></a><h3><code><span class="keyword">static</span> <span class="keyword">var</span> <a href="#TILE_SCALE"><span class="identifier">TILE_SCALE</span></a>:<a class="type" href="/js/Int.html">Int</a></code></h3><div class="doc"><p></p></div></div><div class="platform platform-js"><a name="TILE_TRANS_2x2"></a><h3><code><span class="keyword">static</span> <span class="keyword">var</span> <a href="#TILE_TRANS_2x2"><span class="identifier">TILE_TRANS_2x2</span></a>:<a class="type" href="/js/Int.html">Int</a></code></h3><div class="doc"><p></p></div></div><h2>Instance Fields</h2><div class="platform platform-js"><a name="new"></a><h3><code><span class="keyword">function</span> <a href="#new"><span class="identifier">new</span></a>(inImage:<a class="type" href="/js/flash/display/BitmapData.html">BitmapData</a>):<a class="type" href="/js/Void.html">Void</a></code></h3><div class="doc"><p></p></div></div><div class="platform platform-js"><a name="addTileRect"></a><h3><code><span class="keyword">function</span> <a href="#addTileRect"><span class="identifier">addTileRect</span></a>(rectangle:<a class="type" href="/js/flash/geom/Rectangle.html">Rectangle</a>, centerPoint:<a class="type" href="/js/flash/geom/Point.html">Point</a>):<a class="type" href="/js/Int.html">Int</a></code></h3><div class="doc"><p>Add a new tile to the Tilesheet</p>
<p>Beginning with 0, each tile is assigned an indentifier internally, which you
can use to reference the geometry later while rendering.</p>
<p>For example, if you have only called "addTileRect" once on a Tilesheet, you
would reference that tile using a tile ID of 0. If you have called "addTileRect"
three times, the third tile would have an ID of 2.</p>
<p>Specify a rectangle within the bounds of the Tilesheet bitmap. This portion of the 
Tilesheet will be rendered when ever you request a draw of this tile ID.</p>
<p>You may also (optionally) specify a center point, which is used during positioning,
scale and rotation. The center point should be a coordinate within the tile
rectangle.</p>
<p>@param	rectangle
@param	centerPoint</p></div></div><div class="platform platform-js"><a name="drawTiles"></a><h3><code><span class="keyword">function</span> <a href="#drawTiles"><span class="identifier">drawTiles</span></a>(graphics:<a class="type" href="/js/flash/display/Graphics.html">Graphics</a>, tileData:<a class="type" href="/js/Array.html">Array</a>&lt;<a class="type" href="/js/Float.html">Float</a>&gt;, smooth:<a class="type" href="/js/Bool.html">Bool</a>, flags:<a class="type" href="/js/Int.html">Int</a>):<a class="type" href="/js/Void.html">Void</a></code></h3><div class="doc"><p>Fast method to render a batch of tiles from the Tilesheet graphic</p>
<p>A standard "drawTiles" call expects a repeating set of three values: the X and Y
coordinates, followed by the tileID that should be rendered. You can repeat this
pattern for as many tiles you wish to render.</p>
<p>If you specify drawing flags, the draw list increases in size to accommodate the 
additional properties needed. You may specify TILE<em>SCALE, TILE</em>ROTATION, TILE<em>RGB 
and/or TILE</em>ALPHA.</p>
<p>This means that the draw list will increase from [ x, y, tileID ... ] to
[ x, y, tileID, scale, rotation, red, green, blue, alpha ... ] depending on which
flags are active.</p>
<p>If you use the TILE<em>TRANS</em>2x2 flag, it means you wish to use a 2x2 Matrix transform
while rendering. If you use TILE<em>TRANS</em>2x2, the TILE<em>SCALE and TILE</em>ROTATION flags
will be ignored. Using this flag, the draw list will expect the following order:</p>
<p>[ x, y, tileID, a, b, c, d, red, green, blue, alpha ... ]</p>
<p>...of course, if you are not using TILE<em>RGB or TILE</em>ALPHA, then you would repeat the
pattern directly following the matrix "a", "b", "c" and "d" values.</p>
<p>@example</p>
<p>var bitmapData = Assets.getBitmapData("image.png");
var tilesheet = new Tilesheet(bitmapData);</p>
<p>tilesheet.addTileRect(new Rectangle(0, 0, 100, 100));</p>
<p>// x, y, tileID, scale, alpha</p>
<p>var drawList = [
100, 100, 0, 2, 0.5,
100, 200, 0, 2, 0.5
];</p>
<p>tilesheet.drawTiles(this, drawList, true, Tilesheet.TILE<em>SCALE | Tilesheet.TILE</em>ALPHA);</p>
<p>@param	graphics		The nme.display.Graphics object to use for drawing
@param	tileData		An array of all position, ID and optional values for use in drawing
@param	smooth		(Optional) Whether tiles should be smoothed while drawing(Default: false)
@param	flags		(Optional) Flags to enable scale, rotation, RGB and/or alpha when drawing(Default: 0)</p></div></div></div></div></div></body></html>